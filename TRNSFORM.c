#include <stdio.h>

void inSituAsciiToEbcdic (char *s) {
    static char atoe[] =
        "\x00\x01\x02\x03\x37\x2D\x2E\x2F\x16\x05\x25\x0B\x0C\x0D\x0E\x0F"
        "\x10\x11\x12\x13\x3C\x3D\x32\x26\x18\x19\x3F\x27\x1C\x1D\x1E\x1F"
        "\x40\x5A\x7F\x7B\x5B\x6C\x50\x7D\x4D\x5D\x5C\x4E\x6B\x60\x4B\x61"
        "\xF0\xF1\xF2\xF3\xF4\xF5\xF6\xF7\xF8\xF9\x7A\x5E\x4C\x7E\x6E\x6F"
        "\x7C\xC1\xC2\xC3\xC4\xC5\xC6\xC7\xC8\xC9\xD1\xD2\xD3\xD4\xD5\xD6"
        "\xD7\xD8\xD9\xE2\xE3\xE4\xE5\xE6\xE7\xE8\xE9\xBA\xE0\xBB\xB0\x6D"
        "\x79\x81\x82\x83\x84\x85\x86\x87\x88\x89\x91\x92\x93\x94\x95\x96"
        "\x97\x98\x99\xA2\xA3\xA4\xA5\xA6\xA7\xA8\xA9\xC0\x4F\xD0\xA1\x07"
        "\x20\x21\x22\x23\x24\x15\x06\x17\x28\x29\x2A\x2B\x2C\x09\x0A\x1B"
        "\x30\x31\x1A\x33\x34\x35\x36\x08\x38\x39\x3A\x3B\x04\x14\x3E\xFF"
        "\x41\xAA\x4A\xB1\x9F\xB2\x6A\xB5\xBD\xB4\x9A\x8A\x5F\xCA\xAF\xBC"
        "\x90\x8F\xEA\xFA\xBE\xA0\xB6\xB3\x9D\xDA\x9B\x8B\xB7\xB8\xB9\xAB"
        "\x64\x65\x62\x66\x63\x67\x9E\x68\x74\x71\x72\x73\x78\x75\x76\x77"
        "\xAC\x69\xED\xEE\xEB\xEF\xEC\xBF\x80\xFD\xFE\xFB\xFC\xAD\xAE\x59"
        "\x44\x45\x42\x46\x43\x47\x9C\x48\x54\x51\x52\x53\x58\x55\x56\x57"
        "\x8C\x49\xCD\xCE\xCB\xCF\xCC\xE1\x70\xDD\xDE\xDB\xDC\x8D\x8E\xDF";

    while (*s != '\0') {
        *s = atoe[(unsigned char)*s];
        s++;
    }
}


void inSituEbcdicToAscii (char *s) {
    static char etoa[] =
        "\x00\x01\x02\x03\x04\x05\x06\x07\x08\x09\x0A\x0B\x0C\x0D\x0E\x0F"
        "\x10\x11\x12\x13\x14\x15\x16\x17\x18\x19\x1A\x1B\x1C\x1D\x1E\x1F"
        "\x20\x21\x22\x23\x24\x25\x26\x27\x28\x29\x2A\x2B\x2C\x2D\x2E\x2F"
        "\x30\x31\x32\x33\x34\x35\x36\x37\x38\x39\x3A\x3B\x3C\x3D\x3E\x3F"
        "\x20\x41\x42\x43\x44\x45\x46\x47\x48\x49\x4A\x2E\x3C\x28\x2B\x7C"
        "\x26\x51\x52\x53\x54\x55\x56\x57\x58\x59\x21\x24\x2A\x29\x3B\x5F"
        "\x5F\x2F\x62\x63\x64\x65\x66\x67\x68\x69\x6A\x2C\x25\x5F\x3E\x3F"
        "\x70\x71\x72\x73\x74\x75\x76\x77\x78\x60\x3A\x23\x40\x27\x3D\x22"
        "\x80\x61\x62\x63\x64\x65\x66\x67\x68\x69\x8A\x8B\x8C\x8D\x8E\x8F"
        "\x90\x6A\x6B\x6C\x6D\x6E\x6F\x70\x71\x72\x9A\x9B\x9C\x9D\x9E\x9F"
        "\xA0\xA1\x73\x74\x75\x76\x77\x78\x79\x7A\xAA\xAB\xAC\xAD\xAE\xAF"
        "\xB0\xB1\xB2\xB3\xB4\xB5\xB6\xB7\xB8\xB9\xBA\xBB\xBC\xBD\xBE\xBF"
        "\xC0\x41\x42\x43\x44\x45\x46\x47\x48\x49\xCA\xCB\xCC\xCD\xCE\xCF"
        "\xD0\x4A\x4B\x4C\x4D\x4E\x4F\x50\x51\x52\xDA\xDB\xDC\xDD\xDE\xDF"
        "\xE0\xE1\x53\x54\x55\x56\x57\x58\x59\x5A\xEA\xEB\xEC\xED\xEE\xEF"
        "\x30\x31\x32\x33\x34\x35\x36\x37\x38\x39\xFA\xFB\xFC\xFD\xFE\xFF";

    while (*s != '\0') {
        *s = etoa[(unsigned char)*s];
        s++;
    }
}
